# UE5シナリオ自動変換AIソフトウェア - プロジェクト概要

## 1. プロジェクト概要

本プロジェクトは、UE5ゲーム開発において、テキスト形式で書かれたシナリオを自動的に解析し、フローチャート（draw.io形式）とデータテーブル（UE5用CSV形式）に変換するAIソフトウェアの開発を目的としています。

## 2. 開発の背景と目的

ゲーム開発、特にRPGやアドベンチャーゲームなどのストーリー重視のゲームでは、シナリオの管理と実装が重要な課題です。シナリオライターが作成したテキスト形式のシナリオを、プログラマーがゲームエンジンで使用可能な形式に変換する作業は、時間がかかり、ミスが発生しやすい工程です。

本ソフトウェアは、この変換プロセスを自動化することで、以下の利点を提供します：

- シナリオ作成からゲーム実装までの時間短縮
- 人的ミスの削減
- シナリオの視覚化によるストーリー構造の把握の容易化
- UE5のデータテーブルとの互換性確保

## 3. 主要機能

### 3.1 シナリオ解析

- テキスト形式のシナリオを解析し、構造化データに変換
- 登場人物、セリフ、選択肢、シーン遷移などの要素を自動抽出
- 自然言語処理技術を活用した高精度な解析

### 3.2 フローチャート生成

- シナリオの流れをdraw.io形式のフローチャートとして視覚化
- シーン間の接続関係を矢印で表現
- 選択肢による分岐構造の明確な表示

### 3.3 データテーブル生成

- UE5で直接インポート可能なCSV形式のデータテーブルを生成
- 複数のテーブル（セリフ、選択肢、シーン、キャラクター）を自動生成
- UE5用のC++構造体定義ファイルも提供

### 3.4 ユーザーインターフェース

- Webベースの直感的なインターフェース
- ドラッグ＆ドロップによるファイルアップロード
- 変換結果のプレビューと一括ダウンロード機能

## 4. 技術スタック

- **プログラミング言語**: Python
- **自然言語処理**: spaCy, OpenAI API
- **フロントエンド**: Streamlit
- **ファイル形式**: XML (draw.io), CSV (UE5 Data Table)

## 5. システムアーキテクチャ

システムは以下の主要コンポーネントで構成されています：

1. **シナリオ解析モジュール** (`scenario_analyzer.py`)
   - テキスト解析と構造化データ生成
   - 正規表現とAI技術を組み合わせた解析

2. **フローチャート生成モジュール** (`flowchart_generator.py`)
   - draw.io互換のXML生成
   - ノードとエッジの自動レイアウト

3. **データテーブル生成モジュール** (`datatable_generator.py`)
   - UE5互換のCSVファイル生成
   - 複数テーブルの関連付け

4. **統合UIアプリケーション** (`scenario_converter_app.py`)
   - Streamlitベースのウェブインターフェース
   - ファイル管理と変換プロセスの制御

## 6. 使用方法

### 6.1 シナリオの書き方

```
【シーン名】
キャラクター名：セリフ内容
キャラクター名：セリフ内容

1. 選択肢1 → 次のシーン名
2. 選択肢2 → 次のシーン名
```

### 6.2 アプリケーションの使用手順

1. Webアプリケーションにアクセス
2. シナリオファイル（.txtまたは.md）をアップロード
3. 「変換実行」ボタンをクリック
4. 生成されたファイルをダウンロード

### 6.3 UE5での利用方法

1. 生成された`ScenarioDataStructs.h`をプロジェクトに追加
2. UE5エディタでデータテーブルアセットを作成
3. 生成されたCSVファイルをインポート
4. ブループリントまたはC++からデータテーブルを参照

## 7. 今後の展望

- より複雑なシナリオ構造のサポート
- 多言語対応の強化
- UE5プラグインとしての提供
- ビジュアルノベルエンジンとの連携
- AIによるシナリオ提案機能の追加

## 8. まとめ

本プロジェクトで開発したUE5シナリオ自動変換AIソフトウェアは、ゲーム開発におけるシナリオ管理と実装の効率化を実現します。テキスト形式のシナリオからフローチャートとデータテーブルへの自動変換により、開発工程の短縮とミスの削減が期待できます。

今後も機能の拡張と改善を続け、より多くのゲーム開発者のニーズに応えていきたいと考えています。

